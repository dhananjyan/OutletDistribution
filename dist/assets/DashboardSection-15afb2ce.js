import{g as Q,c as k,u as F,a as g,j as e,b as Z,d as P,e as D,r as J,f as u,D as B,h as Y,i as ee,k as ne}from"./index-8b0ddf05.js";import{S as T,L as se}from"./Loader-276fa79a.js";import{R as te}from"./react-svg.esm-8b2b7316.js";import"./ThemeProvider-f4185178.js";const le="_countCard_14tqt_1",ie="_count_14tqt_1",ae="_countLabel_14tqt_19",ce="_cardsContainer_14tqt_26",oe="_cardBody_14tqt_32",re="_header_14tqt_37",de="_countListSection_14tqt_45",ue="_counterCard_14tqt_52",me="_orangeColor_14tqt_73",he="_billingCountDetails_14tqt_77",ve="_downloadButton_14tqt_81",l={countCard:le,count:ie,countLabel:ae,cardsContainer:ce,cardBody:oe,header:re,countListSection:de,counterCard:ue,orangeColor:me,billingCountDetails:he,downloadButton:ve},xe="_filterContainer_124d0_1",Ce="_filterItem_124d0_7",O={filterContainer:xe,filterItem:Ce};var je="Expected a function",A=0/0,be="[object Symbol]",fe=/^\s+|\s+$/g,ge=/^[-+]0x[0-9a-f]+$/i,_e=/^0b[01]+$/i,Ne=/^0o[0-7]+$/i,ye=parseInt,Se=typeof k=="object"&&k&&k.Object===Object&&k,pe=typeof self=="object"&&self&&self.Object===Object&&self,Le=Se||pe||Function("return this")(),Oe=Object.prototype,Ve=Oe.toString,Te=Math.max,Fe=Math.min,q=function(){return Le.Date.now()};function $e(s,n,t){var r,o,a,c,i,d,v=0,f=!1,m=!1,h=!0;if(typeof s!="function")throw new TypeError(je);n=U(n)||0,R(t)&&(f=!!t.leading,m="maxWait"in t,a=m?Te(U(t.maxWait)||0,n):a,h="trailing"in t?!!t.trailing:h);function x(C){var _=r,V=o;return r=o=void 0,v=C,c=s.apply(V,_),c}function L(C){return v=C,i=setTimeout($,n),f?x(C):c}function H(C){var _=C-d,V=C-v,M=n-_;return m?Fe(M,a-V):M}function K(C){var _=C-d,V=C-v;return d===void 0||_>=n||_<0||m&&V>=a}function $(){var C=q();if(K(C))return w(C);i=setTimeout($,H(C))}function w(C){return i=void 0,h&&r?x(C):(r=o=void 0,c)}function X(){i!==void 0&&clearTimeout(i),v=0,r=d=o=i=void 0}function z(){return i===void 0?c:w(q())}function I(){var C=q(),_=K(C);if(r=arguments,o=this,d=C,_){if(i===void 0)return L(d);if(m)return i=setTimeout($,n),x(d)}return i===void 0&&(i=setTimeout($,n)),c}return I.cancel=X,I.flush=z,I}function R(s){var n=typeof s;return!!s&&(n=="object"||n=="function")}function ke(s){return!!s&&typeof s=="object"}function Be(s){return typeof s=="symbol"||ke(s)&&Ve.call(s)==be}function U(s){if(typeof s=="number")return s;if(Be(s))return A;if(R(s)){var n=typeof s.valueOf=="function"?s.valueOf():s;s=R(n)?n+"":n}if(typeof s!="string")return s===0?s:+s;s=s.replace(fe,"");var t=_e.test(s);return t||Ne.test(s)?ye(s.slice(2),t?2:8):ge.test(s)?A:+s}var Ie=$e;const qe=Q(Ie);function Ee(){const s=F(),n=g(i=>{var d;return(d=i==null?void 0:i.dashboard)==null?void 0:d.filters}),t=g(i=>{var d;return(d=i==null?void 0:i.dashboard)==null?void 0:d.filterOptions});function r(i){JSON.stringify(n==null?void 0:n[i==null?void 0:i.field])!==JSON.stringify(i==null?void 0:i.value)&&s(Z(i))}function o(){s(P())}function a(i){s(D({selecteField:i,initialValue:n==null?void 0:n[i]}))}const c=qe(r,300);return e.jsxs("div",{className:O.filterContainer,children:[e.jsxs("div",{className:O.filterItem,children:[e.jsx("label",{children:"State"}),e.jsx(T,{onClose:()=>o(),onOpen:()=>a("state"),isMultiSelect:!0,options:(t==null?void 0:t.state)||[],name:"state",value:n==null?void 0:n.state,onChange:c})]}),e.jsxs("div",{className:O.filterItem,children:[e.jsx("label",{children:"District"}),e.jsx(T,{onClose:()=>o(),onOpen:()=>a("district"),isMultiSelect:!0,options:t==null?void 0:t.district,name:"district",value:n==null?void 0:n.district,onChange:c})]}),e.jsxs("div",{className:O.filterItem,children:[e.jsx("label",{children:"Urban / Rural"}),e.jsx(T,{onClose:()=>o(),onOpen:()=>a("locationType"),isMultiSelect:!0,options:(t==null?void 0:t.locationType)||[],name:"locationType",value:n==null?void 0:n.locationType,onChange:c})]}),e.jsxs("div",{className:O.filterItem,children:[e.jsx("label",{children:"Population Bracket"}),e.jsx(T,{onClose:()=>o(),onOpen:()=>a("populationBracket"),isMultiSelect:!0,options:(t==null?void 0:t.population)||[],name:"populationBracket",value:n==null?void 0:n.populationBracket,onChange:c})]}),e.jsxs("div",{className:O.filterItem,children:[e.jsx("label",{children:"Financial Year"}),e.jsx(T,{onClose:()=>o(),onOpen:()=>a("financialYear"),isMultiSelect:!0,options:(t==null?void 0:t.financialYear)||[],name:"financialYear",value:n==null?void 0:n.financialYear,onChange:c})]})]})}const Re="_tabularSummaryContainer_168qq_1",Ke="_tabSection_168qq_4",we="_tab_168qq_1",Me="_active_168qq_26",N={tabularSummaryContainer:Re,tabSection:Ke,tab:we,active:Me},Ae="_tableContainer_1vh4a_1",Ue="_active_1vh4a_41",W={tableContainer:Ae,active:Ue},We="_toggleButton_1k4nn_1",Pe="_stateName_1k4nn_1",E={toggleButton:We,stateName:Pe,"level-2":"_level-2_1k4nn_5","level-3":"_level-3_1k4nn_9"},Je="/outletdistribution/assets/minus-2bfc989a.svg",Ye="/outletdistribution/assets/plus add-bdaa6a42.svg";function G(s){var f,m;const{item:n,keyValue:t,level:r,fields:o,selectedKey:a}=s,[c,i]=J.useState(!1);function d(){i(h=>!h)}const v=!!((f=n==null?void 0:n.children)!=null&&f.length);return e.jsxs(e.Fragment,{children:[e.jsx("tr",{className:u({"fw-bold":r===1}),children:o.map((h,x)=>x==0?e.jsx("td",{children:e.jsxs("div",{className:u("d-flex gap-3",E[`level-${r}`],"pt-1"),children:[e.jsx("div",{className:u(E.toggleButton),onClick:d,children:e.jsx(te,{src:c||!v?Je:Ye})}),e.jsx("div",{className:E.stateName,children:n[h]})]})},`COLUMN_${h}_${x}`):e.jsx("td",{className:u({active:a==h}),children:n[h]},`COLUMN_${h}_${x}`))},t),c&&v?(m=n==null?void 0:n.children)==null?void 0:m.map((h,x)=>e.jsx(G,{item:h,keyValue:`ROW_ITEM_${h.state}_${x}`,level:+r+1,fields:o},x)):""]})}function Ge({data:s,hasFooter:n}){var t,r,o;if(s[0]){let a=(t=Object.keys(s[0]))==null?void 0:t.filter(i=>i!=="children"),c=(r=Object.keys(s[(s==null?void 0:s.length)-1]))==null?void 0:r.filter(i=>i!=="children");if(!((o=a==null?void 0:a[0])!=null&&o.includes("tate"))){let i=c.pop();c.unshift(i);let d=a.pop();a.unshift(d)}return{columns:a,footColumns:c}}return{columns:[],footColumns:[]}}function He({data:s,hasFooter:n}){if(!n)return{tableData:[...s],footerData:[]};let t=[...s],r=t.pop();return{tableData:t,footerData:r}}function b(s){const{data:n=[],isColumnSelectable:t,onColumnSelect:r,hasFooter:o=!0,selectedKey:a}=s,{tableData:c=[],footerData:i=[]}=He({data:n,hasFooter:o}),{columns:d,footColumns:v}=Ge({data:n,hasFooter:o});function f(m){if(typeof r=="function"&&t){if(m!=null&&m.includes("tate"))return;r(m)}}return e.jsx("div",{className:W.tableContainer,children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsx("tr",{children:d.map((m,h)=>e.jsx("th",{className:u({[W.active]:a==m}),style:h==0?{width:200}:{width:80},role:t?"button":"none",onClick:()=>f(m),children:m},`HEADER_COLUMN_${h}`))})}),e.jsx("tbody",{children:c==null?void 0:c.map((m,h)=>e.jsx(G,{item:m,selectedKey:a,keyValue:`ROW_ITEM_${m.state}_${h}`,level:1,fields:d},h))}),o?e.jsx("tfoot",{children:e.jsx("tr",{children:v==null?void 0:v.map((m,h)=>e.jsx("td",{className:u({active:a==m}),children:i[m]},`TABLE_FOOTER_${h}`))})}):""]})})}const Xe="_summaryContainer_19d75_1",ze="_item_19d75_7",Qe="_tableLabel_19d75_15",S={summaryContainer:Xe,item:ze,tableLabel:Qe};function Ze(){const s=g(n=>{var t;return(t=n==null?void 0:n.dashboard)==null?void 0:t.tableData});return e.jsxs("div",{className:S.summaryContainer,children:[e.jsxs("div",{className:S.item,children:[e.jsx("div",{className:u("text-center",S.tableLabel),children:"Total Outlet Count - CSNG "}),e.jsx(b,{data:s==null?void 0:s.totalOutletSummary})]}),e.jsxs("div",{className:S.item,children:[e.jsx("div",{className:u("text-center",S.tableLabel),children:"SSFA JC Wise Outlet Count"}),e.jsx(b,{data:s==null?void 0:s.ssfaOutletSummary})]}),e.jsxs("div",{className:S.item,children:[e.jsx("div",{className:u("text-center",S.tableLabel),children:"RSC JC Wise Outlet Count"}),e.jsx(b,{data:s==null?void 0:s.rscOutletSummary})]})]})}const De="_summaryContainer_u5e15_1",en="_item_u5e15_7",nn="_tableLabel_u5e15_15",p={summaryContainer:De,item:en,tableLabel:nn};function sn(){var r,o,a,c,i,d,v,f,m,h;const s=F(),n=g(x=>{var L;return(L=x==null?void 0:x.dashboard)==null?void 0:L.tableData});function t({key:x,table:L}){s(Y({key:x,table:L}))}return e.jsxs("div",{className:p.summaryContainer,children:[e.jsx("div",{className:p.item,children:e.jsxs(B,{show:((r=n==null?void 0:n.sub_uncoveredVillages)==null?void 0:r.key)&&!((a=(o=n==null?void 0:n.sub_uncoveredVillages)==null?void 0:o.data)!=null&&a.length),children:[e.jsx("div",{className:u("text-center",p.tableLabel),children:"CK Uncovered Villages Count by state and Population"}),e.jsx(b,{isColumnSelectable:!0,selectedKey:(c=n==null?void 0:n.sub_uncoveredVillages)==null?void 0:c.key,onColumnSelect:x=>t({key:x,table:"uncoveredVillages"}),data:n==null?void 0:n.uncoveredVillages}),n!=null&&n.sub_uncoveredVillages?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:u("text-center",p.tableLabel),children:"CK Uncovered Villages by state and Population"}),e.jsx(b,{data:(i=n==null?void 0:n.sub_uncoveredVillages)==null?void 0:i.data,hasFooter:!1})]}):""]})}),e.jsx("div",{className:p.item,children:e.jsxs(B,{show:((d=n==null?void 0:n.sub_coveredVillages)==null?void 0:d.key)&&!((f=(v=n==null?void 0:n.sub_coveredVillages)==null?void 0:v.data)!=null&&f.length),children:[e.jsx("div",{className:u("text-center",p.tableLabel),children:"CK Covered Villages Count by state and Population"}),e.jsx(b,{isColumnSelectable:!0,selectedKey:(m=n==null?void 0:n.sub_coveredVillages)==null?void 0:m.key,onColumnSelect:x=>t({key:x,table:"coveredVillages"}),data:n==null?void 0:n.coveredVillages}),n!=null&&n.sub_coveredVillages?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:u("text-center",p.tableLabel),children:"CK Covered Villages by state and Population"}),e.jsx(b,{data:(h=n==null?void 0:n.sub_coveredVillages)==null?void 0:h.data,hasFooter:!1})]}):""]})})]})}const tn="_summaryContainer_1tqyb_1",ln="_item_1tqyb_7",an="_tableLabel_1tqyb_15",y={summaryContainer:tn,item:ln,tableLabel:an};function cn(){var r,o,a,c,i;const s=F(),n=g(d=>{var v;return(v=d==null?void 0:d.dashboard)==null?void 0:v.tableData});function t({key:d,table:v}){s(Y({key:d,table:v}))}return e.jsxs("div",{className:y.summaryContainer,children:[e.jsx("div",{className:y.item,children:e.jsxs(B,{show:((r=n==null?void 0:n.sub_coveredVillages)==null?void 0:r.key)&&!((a=(o=n==null?void 0:n.sub_coveredVillages)==null?void 0:o.data)!=null&&a.length),children:[e.jsx("div",{className:u("text-center",y.tableLabel),children:"CK Covered Villages by state and Population"}),e.jsx(b,{isColumnSelectable:!0,selectedKey:(c=n==null?void 0:n.sub_coveredVillages)==null?void 0:c.key,onColumnSelect:d=>t({key:d,table:"coveredVillages"}),data:n==null?void 0:n.coveredVillages}),e.jsx("div",{children:n!=null&&n.sub_coveredVillages?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:u("text-center",y.tableLabel),children:"CK Covered Villages by state and Population"}),e.jsx(b,{data:(i=n==null?void 0:n.sub_coveredVillages)==null?void 0:i.data,hasFooter:!1})]}):""})]})}),e.jsxs("div",{className:y.item,children:[e.jsx("div",{className:u("text-center",y.tableLabel),children:"SSFA JC Wise Covered Villages"}),e.jsx(b,{data:n==null?void 0:n.ssfaCoveredVillage})]}),e.jsxs("div",{className:y.item,children:[e.jsx("div",{className:u("text-center",y.tableLabel),children:"RSC JC Wise Covered Villages"}),e.jsx(b,{data:n==null?void 0:n.rscCoveredVillage})]})]})}function on(){const s=F(),n=g(a=>{var c,i;return(i=(c=a==null?void 0:a.dashboard)==null?void 0:c.outlet)==null?void 0:i.currentOutletTab}),t=g(a=>{var c;return(c=a==null?void 0:a.dashboard)==null?void 0:c.isOutletSummaryTotalOutletLoading}),r=g(a=>{var c;return(c=a==null?void 0:a.dashboard)==null?void 0:c.tableData}),o=a=>{s(ee(a)),s(ne({...r,sub_coveredVillages:null}))};return e.jsx("div",{children:e.jsxs("div",{className:N.tabularSummaryContainer,children:[e.jsxs("div",{className:N.tabSection,children:[e.jsx("div",{className:u(N.tab,{[N.active]:n==="outletSummary"}),role:"button",onClick:()=>o("outletSummary"),children:"Outlet Summary"}),e.jsx("div",{className:u(N.tab,{[N.active]:n==="allVillageCount"}),role:"button",onClick:()=>o("allVillageCount"),children:"Covered / Uncovered Village Count"}),e.jsx("div",{className:u(N.tab,{[N.active]:n==="coveredVillageCount"}),role:"button",onClick:()=>o("coveredVillageCount"),children:"Covered Village Count"})]}),e.jsx("div",{children:e.jsx(B,{show:t,children:n==="outletSummary"?e.jsx(Ze,{}):n==="allVillageCount"?e.jsx(sn,{}):e.jsx(cn,{})})})]})})}function j(s){return Number.isInteger(s)?s||0:Number(s||0).toFixed(2)}function hn(){const s=g(a=>a==null?void 0:a.dashboard),n=F(),{counts:t,ssfa:r,rsc:o}=s||{};return J.useEffect(()=>{n(P(!0))},[]),e.jsx("div",{className:l.dashboardSection,children:e.jsxs(se,{show:s==null?void 0:s.isLoading,children:[e.jsx(Ee,{}),e.jsxs("div",{className:u("d-flex justify-content-between py-5 flex-wrap gap-4"),children:[e.jsxs("div",{className:u(l.countCard),style:{borderLeftColor:"#478399",color:"#478399"},children:[e.jsx("div",{className:l.count,children:j(t==null?void 0:t.totalVillage)}),e.jsx("div",{className:l.countLabel,children:"Total Villages"})]}),e.jsxs("div",{className:u(l.countCard),style:{borderLeftColor:"#587EDF",color:"#587EDF"},children:[e.jsx("div",{className:l.count,children:j(t==null?void 0:t.ckCoveredVillage)}),e.jsx("div",{className:l.countLabel,children:"CK covered Villages"})]}),e.jsxs("div",{className:u(l.countCard),style:{borderLeftColor:"#CC9487",color:"#CC9487"},children:[e.jsx("div",{className:l.count,children:j(t==null?void 0:t.ckUncoveredVillage)}),e.jsx("div",{className:l.countLabel,children:"CK Uncovered Villages"})]}),e.jsxs("div",{className:u(l.countCard),style:{borderLeftColor:"#478399",color:"#478399"},children:[e.jsx("div",{className:l.count,children:j(t==null?void 0:t.villageCoverage)}),e.jsx("div",{className:l.countLabel,children:"Village Coverage %"})]}),e.jsxs("div",{className:u(l.countCard),style:{borderLeftColor:"#587EDF",color:"#587EDF"},children:[e.jsx("div",{className:l.count,children:j(t==null?void 0:t.ckCountOfCity)}),e.jsx("div",{className:l.countLabel,children:"CK Count of City"})]}),e.jsxs("div",{className:u(l.countCard),style:{borderLeftColor:"#CC9487",color:"#CC9487"},children:[e.jsx("div",{className:l.count,children:j(t==null?void 0:t.totalOutletInCk)}),e.jsx("div",{className:l.countLabel,children:"Total Outlets in CK"})]})]}),e.jsx("div",{children:e.jsxs("div",{className:l.cardsContainer,children:[e.jsxs("div",{className:l.cardBody,children:[e.jsx("div",{className:l.header,children:"SSFA"}),e.jsxs("div",{className:l.countListSection,children:[e.jsxs("div",{className:l.counterCard,children:[e.jsx("div",{className:l.count,children:j(o.cityCount)}),e.jsx("div",{className:l.countLabel,children:"City Count"})]}),e.jsxs("div",{className:l.counterCard,children:[e.jsx("div",{className:l.count,children:j(o.coveredVillage)}),e.jsx("div",{className:l.countLabel,children:"Covered Villages"})]}),e.jsxs("div",{className:l.counterCard,children:[e.jsx("div",{className:l.count,children:j(o.outletCount)}),e.jsx("div",{className:l.countLabel,children:"Outlet Count"})]}),e.jsxs("div",{className:l.counterCard,children:[e.jsxs("div",{className:l.count,children:[j(o.billing)," %"]}),e.jsx("div",{className:l.countLabel,children:"SSFA Billing %"})]})]})]}),e.jsxs("div",{className:l.cardBody,children:[e.jsx("div",{className:l.header,children:"RSC"}),e.jsxs("div",{className:l.countListSection,children:[e.jsxs("div",{className:l.counterCard,children:[e.jsx("div",{className:l.count,children:j(r.cityCount)}),e.jsx("div",{className:l.countLabel,children:"City Count"})]}),e.jsxs("div",{className:l.counterCard,children:[e.jsx("div",{className:l.count,children:j(r.coveredVillage)}),e.jsx("div",{className:l.countLabel,children:"Covered Villages"})]}),e.jsxs("div",{className:l.counterCard,children:[e.jsx("div",{className:l.count,children:j(r.outletCount)}),e.jsx("div",{className:l.countLabel,children:"Outlet Count"})]}),e.jsxs("div",{className:l.counterCard,children:[e.jsxs("div",{className:l.count,children:[j(r.billing)," %"]}),e.jsx("div",{className:l.countLabel,children:"RSC Billing %"})]})]})]})]})}),e.jsx(on,{}),e.jsxs("div",{className:u("pt-5 d-flex justify-content-between flex-wrap align-items-center"),children:[e.jsxs("div",{children:[e.jsxs("div",{className:l.billingCountDetails,children:[e.jsx("span",{className:l.orangeColor,children:"SSFA Billing % : "}),"SSFA count of Outlets / Total Outlets in CK"]}),e.jsxs("div",{className:l.billingCountDetails,children:[e.jsx("span",{className:l.orangeColor,children:"RSC Billing % : "}),"RSC count of Outlets / SSFA count of Outlets"]})]}),e.jsx("div",{})]})]})})}export{hn as default};
