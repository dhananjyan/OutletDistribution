import{r as w,j as e,c as u,g as D,a as k,u as $,b as g,d as ee,e as Y,f as ne,D as B,h as G,i as se,k as te}from"./index-61c2b151.js";import{S as T}from"./SelectBox-cfbc6482.js";import{R as le}from"./react-svg.esm-a5fda8ba.js";import{u as ie}from"./ThemeProvider-a8e183b2.js";const H=w.forwardRef(({bsPrefix:s,variant:n,animation:t="border",size:o,as:r="div",className:a,...c},i)=>{s=ie(s,"spinner");const d=`${s}-${t}`;return e.jsx(r,{ref:i,...c,className:u(a,d,o&&`${d}-${o}`,n&&`text-${n}`)})});H.displayName="Spinner";const ae=H,ce="_countCard_14tqt_1",re="_count_14tqt_1",oe="_countLabel_14tqt_19",de="_cardsContainer_14tqt_26",ue="_cardBody_14tqt_32",me="_header_14tqt_37",he="_countListSection_14tqt_45",ve="_counterCard_14tqt_52",xe="_orangeColor_14tqt_73",Ce="_billingCountDetails_14tqt_77",je="_downloadButton_14tqt_81",l={countCard:ce,count:re,countLabel:oe,cardsContainer:de,cardBody:ue,header:me,countListSection:he,counterCard:ve,orangeColor:xe,billingCountDetails:Ce,downloadButton:je},be="_filterContainer_124d0_1",fe="_filterItem_124d0_7",O={filterContainer:be,filterItem:fe};var ge="Expected a function",U=0/0,_e="[object Symbol]",Ne=/^\s+|\s+$/g,pe=/^[-+]0x[0-9a-f]+$/i,ye=/^0b[01]+$/i,Se=/^0o[0-7]+$/i,Le=parseInt,Oe=typeof k=="object"&&k&&k.Object===Object&&k,Ve=typeof self=="object"&&self&&self.Object===Object&&self,Te=Oe||Ve||Function("return this")(),$e=Object.prototype,Fe=$e.toString,ke=Math.max,Be=Math.min,q=function(){return Te.Date.now()};function Ie(s,n,t){var o,r,a,c,i,d,v=0,f=!1,m=!1,h=!0;if(typeof s!="function")throw new TypeError(ge);n=W(n)||0,R(t)&&(f=!!t.leading,m="maxWait"in t,a=m?ke(W(t.maxWait)||0,n):a,h="trailing"in t?!!t.trailing:h);function x(C){var _=o,V=r;return o=r=void 0,v=C,c=s.apply(V,_),c}function L(C){return v=C,i=setTimeout(F,n),f?x(C):c}function Q(C){var _=C-d,V=C-v,A=n-_;return m?Be(A,a-V):A}function K(C){var _=C-d,V=C-v;return d===void 0||_>=n||_<0||m&&V>=a}function F(){var C=q();if(K(C))return M(C);i=setTimeout(F,Q(C))}function M(C){return i=void 0,h&&o?x(C):(o=r=void 0,c)}function Z(){i!==void 0&&clearTimeout(i),v=0,o=d=r=i=void 0}function z(){return i===void 0?c:M(q())}function I(){var C=q(),_=K(C);if(o=arguments,r=this,d=C,_){if(i===void 0)return L(d);if(m)return i=setTimeout(F,n),x(d)}return i===void 0&&(i=setTimeout(F,n)),c}return I.cancel=Z,I.flush=z,I}function R(s){var n=typeof s;return!!s&&(n=="object"||n=="function")}function qe(s){return!!s&&typeof s=="object"}function Ee(s){return typeof s=="symbol"||qe(s)&&Fe.call(s)==_e}function W(s){if(typeof s=="number")return s;if(Ee(s))return U;if(R(s)){var n=typeof s.valueOf=="function"?s.valueOf():s;s=R(n)?n+"":n}if(typeof s!="string")return s===0?s:+s;s=s.replace(Ne,"");var t=ye.test(s);return t||Se.test(s)?Le(s.slice(2),t?2:8):pe.test(s)?U:+s}var Re=Ie;const we=D(Re);function Ke(){const s=$(),n=g(i=>{var d;return(d=i==null?void 0:i.dashboard)==null?void 0:d.filters}),t=g(i=>{var d;return(d=i==null?void 0:i.dashboard)==null?void 0:d.filterOptions});function o(i){JSON.stringify(n==null?void 0:n[i==null?void 0:i.field])!==JSON.stringify(i==null?void 0:i.value)&&s(ee(i))}function r(){s(Y())}function a(i){s(ne({selecteField:i,initialValue:n==null?void 0:n[i]}))}const c=we(o,300);return e.jsxs("div",{className:O.filterContainer,children:[e.jsxs("div",{className:O.filterItem,children:[e.jsx("label",{children:"State"}),e.jsx(T,{onClose:()=>r(),onOpen:()=>a("state"),isMultiSelect:!0,options:(t==null?void 0:t.state)||[],name:"state",value:n==null?void 0:n.state,onChange:c})]}),e.jsxs("div",{className:O.filterItem,children:[e.jsx("label",{children:"District"}),e.jsx(T,{onClose:()=>r(),onOpen:()=>a("district"),isMultiSelect:!0,options:t==null?void 0:t.district,name:"district",value:n==null?void 0:n.district,onChange:c})]}),e.jsxs("div",{className:O.filterItem,children:[e.jsx("label",{children:"Urban / Rural"}),e.jsx(T,{onClose:()=>r(),onOpen:()=>a("locationType"),isMultiSelect:!0,options:(t==null?void 0:t.locationType)||[],name:"locationType",value:n==null?void 0:n.locationType,onChange:c})]}),e.jsxs("div",{className:O.filterItem,children:[e.jsx("label",{children:"Population Bracket"}),e.jsx(T,{onClose:()=>r(),onOpen:()=>a("populationBracket"),isMultiSelect:!0,options:(t==null?void 0:t.population)||[],name:"populationBracket",value:n==null?void 0:n.populationBracket,onChange:c})]}),e.jsxs("div",{className:O.filterItem,children:[e.jsx("label",{children:"Financial Year"}),e.jsx(T,{onClose:()=>r(),onOpen:()=>a("financialYear"),isMultiSelect:!0,options:(t==null?void 0:t.financialYear)||[],name:"financialYear",value:n==null?void 0:n.financialYear,onChange:c})]})]})}const Me="_tabularSummaryContainer_168qq_1",Ae="_tabSection_168qq_4",Ue="_tab_168qq_1",We="_active_168qq_26",N={tabularSummaryContainer:Me,tabSection:Ae,tab:Ue,active:We},Pe="_tableContainer_1vh4a_1",Je="_active_1vh4a_41",P={tableContainer:Pe,active:Je},Ye="_toggleButton_1k4nn_1",Ge="_stateName_1k4nn_1",E={toggleButton:Ye,stateName:Ge,"level-2":"_level-2_1k4nn_5","level-3":"_level-3_1k4nn_9"},He="/assets/minus-2bfc989a.svg",Xe="/assets/plus add-bdaa6a42.svg";function X(s){var f,m;const{item:n,keyValue:t,level:o,fields:r,selectedKey:a}=s,[c,i]=w.useState(!1);function d(){i(h=>!h)}const v=!!((f=n==null?void 0:n.children)!=null&&f.length);return e.jsxs(e.Fragment,{children:[e.jsx("tr",{className:u({"fw-bold":o===1}),children:r.map((h,x)=>x==0?e.jsx("td",{children:e.jsxs("div",{className:u("d-flex gap-3",E[`level-${o}`],"pt-1"),children:[e.jsx("div",{className:u(E.toggleButton),onClick:d,children:e.jsx(le,{src:c||!v?He:Xe})}),e.jsx("div",{className:E.stateName,children:n[h]})]})},`COLUMN_${h}_${x}`):e.jsx("td",{className:u({active:a==h}),children:n[h]},`COLUMN_${h}_${x}`))},t),c&&v?(m=n==null?void 0:n.children)==null?void 0:m.map((h,x)=>e.jsx(X,{item:h,keyValue:`ROW_ITEM_${h.state}_${x}`,level:+o+1,fields:r},x)):""]})}function Qe({data:s,hasFooter:n}){var t,o,r;if(s[0]){let a=(t=Object.keys(s[0]))==null?void 0:t.filter(i=>i!=="children"),c=(o=Object.keys(s[(s==null?void 0:s.length)-1]))==null?void 0:o.filter(i=>i!=="children");if(!((r=a==null?void 0:a[0])!=null&&r.includes("tate"))){let i=c.pop();c.unshift(i);let d=a.pop();a.unshift(d)}return{columns:a,footColumns:c}}return{columns:[],footColumns:[]}}function Ze({data:s,hasFooter:n}){if(!n)return{tableData:[...s],footerData:[]};let t=[...s],o=t.pop();return{tableData:t,footerData:o}}function b(s){const{data:n=[],isColumnSelectable:t,onColumnSelect:o,hasFooter:r=!0,selectedKey:a}=s,{tableData:c=[],footerData:i=[]}=Ze({data:n,hasFooter:r}),{columns:d,footColumns:v}=Qe({data:n,hasFooter:r});function f(m){if(typeof o=="function"&&t){if(m!=null&&m.includes("tate"))return;o(m)}}return e.jsx("div",{className:P.tableContainer,children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsx("tr",{children:d.map((m,h)=>e.jsx("th",{className:u({[P.active]:a==m}),style:h==0?{width:200}:{width:80},role:t?"button":"none",onClick:()=>f(m),children:m},`HEADER_COLUMN_${h}`))})}),e.jsx("tbody",{children:c==null?void 0:c.map((m,h)=>e.jsx(X,{item:m,selectedKey:a,keyValue:`ROW_ITEM_${m.state}_${h}`,level:1,fields:d},h))}),r?e.jsx("tfoot",{children:e.jsx("tr",{children:v==null?void 0:v.map((m,h)=>e.jsx("td",{className:u({active:a==m}),children:i[m]},`TABLE_FOOTER_${h}`))})}):""]})})}const ze="_summaryContainer_19d75_1",De="_item_19d75_7",en="_tableLabel_19d75_15",y={summaryContainer:ze,item:De,tableLabel:en};function nn(){const s=g(n=>{var t;return(t=n==null?void 0:n.dashboard)==null?void 0:t.tableData});return e.jsxs("div",{className:y.summaryContainer,children:[e.jsxs("div",{className:y.item,children:[e.jsx("div",{className:u("text-center",y.tableLabel),children:"Total Outlet Count - CSNG "}),e.jsx(b,{data:s==null?void 0:s.totalOutletSummary})]}),e.jsxs("div",{className:y.item,children:[e.jsx("div",{className:u("text-center",y.tableLabel),children:"SSFA JC Wise Outlet Count"}),e.jsx(b,{data:s==null?void 0:s.ssfaOutletSummary})]}),e.jsxs("div",{className:y.item,children:[e.jsx("div",{className:u("text-center",y.tableLabel),children:"RSC JC Wise Outlet Count"}),e.jsx(b,{data:s==null?void 0:s.rscOutletSummary})]})]})}const sn="_summaryContainer_u5e15_1",tn="_item_u5e15_7",ln="_tableLabel_u5e15_15",S={summaryContainer:sn,item:tn,tableLabel:ln};function an(){var o,r,a,c,i,d,v,f,m,h;const s=$(),n=g(x=>{var L;return(L=x==null?void 0:x.dashboard)==null?void 0:L.tableData});function t({key:x,table:L}){s(G({key:x,table:L}))}return e.jsxs("div",{className:S.summaryContainer,children:[e.jsx("div",{className:S.item,children:e.jsxs(B,{show:((o=n==null?void 0:n.sub_uncoveredVillages)==null?void 0:o.key)&&!((a=(r=n==null?void 0:n.sub_uncoveredVillages)==null?void 0:r.data)!=null&&a.length),children:[e.jsx("div",{className:u("text-center",S.tableLabel),children:"CK Uncovered Villages Count by state and Population"}),e.jsx(b,{isColumnSelectable:!0,selectedKey:(c=n==null?void 0:n.sub_uncoveredVillages)==null?void 0:c.key,onColumnSelect:x=>t({key:x,table:"uncoveredVillages"}),data:n==null?void 0:n.uncoveredVillages}),n!=null&&n.sub_uncoveredVillages?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:u("text-center",S.tableLabel),children:"CK Uncovered Villages by state and Population"}),e.jsx(b,{data:(i=n==null?void 0:n.sub_uncoveredVillages)==null?void 0:i.data,hasFooter:!1})]}):""]})}),e.jsx("div",{className:S.item,children:e.jsxs(B,{show:((d=n==null?void 0:n.sub_coveredVillages)==null?void 0:d.key)&&!((f=(v=n==null?void 0:n.sub_coveredVillages)==null?void 0:v.data)!=null&&f.length),children:[e.jsx("div",{className:u("text-center",S.tableLabel),children:"CK Covered Villages Count by state and Population"}),e.jsx(b,{isColumnSelectable:!0,selectedKey:(m=n==null?void 0:n.sub_coveredVillages)==null?void 0:m.key,onColumnSelect:x=>t({key:x,table:"coveredVillages"}),data:n==null?void 0:n.coveredVillages}),n!=null&&n.sub_coveredVillages?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:u("text-center",S.tableLabel),children:"CK Covered Villages by state and Population"}),e.jsx(b,{data:(h=n==null?void 0:n.sub_coveredVillages)==null?void 0:h.data,hasFooter:!1})]}):""]})})]})}const cn="_summaryContainer_1tqyb_1",rn="_item_1tqyb_7",on="_tableLabel_1tqyb_15",p={summaryContainer:cn,item:rn,tableLabel:on};function dn(){var o,r,a,c,i;const s=$(),n=g(d=>{var v;return(v=d==null?void 0:d.dashboard)==null?void 0:v.tableData});function t({key:d,table:v}){s(G({key:d,table:v}))}return e.jsxs("div",{className:p.summaryContainer,children:[e.jsx("div",{className:p.item,children:e.jsxs(B,{show:((o=n==null?void 0:n.sub_coveredVillages)==null?void 0:o.key)&&!((a=(r=n==null?void 0:n.sub_coveredVillages)==null?void 0:r.data)!=null&&a.length),children:[e.jsx("div",{className:u("text-center",p.tableLabel),children:"CK Covered Villages by state and Population"}),e.jsx(b,{isColumnSelectable:!0,selectedKey:(c=n==null?void 0:n.sub_coveredVillages)==null?void 0:c.key,onColumnSelect:d=>t({key:d,table:"coveredVillages"}),data:n==null?void 0:n.coveredVillages}),e.jsx("div",{children:n!=null&&n.sub_coveredVillages?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:u("text-center",p.tableLabel),children:"CK Covered Villages by state and Population"}),e.jsx(b,{data:(i=n==null?void 0:n.sub_coveredVillages)==null?void 0:i.data,hasFooter:!1})]}):""})]})}),e.jsxs("div",{className:p.item,children:[e.jsx("div",{className:u("text-center",p.tableLabel),children:"SSFA JC Wise Covered Villages"}),e.jsx(b,{data:n==null?void 0:n.ssfaCoveredVillage})]}),e.jsxs("div",{className:p.item,children:[e.jsx("div",{className:u("text-center",p.tableLabel),children:"RSC JC Wise Covered Villages"}),e.jsx(b,{data:n==null?void 0:n.rscCoveredVillage})]})]})}function un(){const s=$(),n=g(a=>{var c,i;return(i=(c=a==null?void 0:a.dashboard)==null?void 0:c.outlet)==null?void 0:i.currentOutletTab}),t=g(a=>{var c;return(c=a==null?void 0:a.dashboard)==null?void 0:c.isOutletSummaryTotalOutletLoading}),o=g(a=>{var c;return(c=a==null?void 0:a.dashboard)==null?void 0:c.tableData}),r=a=>{s(se(a)),s(te({...o,sub_coveredVillages:null}))};return e.jsx("div",{children:e.jsxs("div",{className:N.tabularSummaryContainer,children:[e.jsxs("div",{className:N.tabSection,children:[e.jsx("div",{className:u(N.tab,{[N.active]:n==="outletSummary"}),role:"button",onClick:()=>r("outletSummary"),children:"Outlet Summary"}),e.jsx("div",{className:u(N.tab,{[N.active]:n==="allVillageCount"}),role:"button",onClick:()=>r("allVillageCount"),children:"Covered / Uncovered Village Count"}),e.jsx("div",{className:u(N.tab,{[N.active]:n==="coveredVillageCount"}),role:"button",onClick:()=>r("coveredVillageCount"),children:"Covered Village Count"})]}),e.jsx("div",{children:e.jsx(B,{show:t,children:n==="outletSummary"?e.jsx(nn,{}):n==="allVillageCount"?e.jsx(an,{}):e.jsx(dn,{})})})]})})}const mn="_parent_1u6pv_1",hn="_spinner_1u6pv_4",J={parent:mn,spinner:hn};function vn(s){const{show:n=!1,children:t}=s;return e.jsxs("div",{className:J.parent,children:[n?e.jsx("div",{className:J.spinner,children:e.jsx(ae,{animation:"border",role:"status",variant:"secondary",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):"",t]})}function j(s){return Number.isInteger(s)?s||0:Number(s||0).toFixed(2)}function fn(){const s=g(a=>a==null?void 0:a.dashboard),n=$(),{counts:t,ssfa:o,rsc:r}=s||{};return w.useEffect(()=>{n(Y(!0))},[]),e.jsx("div",{className:l.dashboardSection,children:e.jsxs(vn,{show:s==null?void 0:s.isLoading,children:[e.jsx(Ke,{}),e.jsxs("div",{className:u("d-flex justify-content-between py-5 flex-wrap gap-4"),children:[e.jsxs("div",{className:u(l.countCard),style:{borderLeftColor:"#478399",color:"#478399"},children:[e.jsx("div",{className:l.count,children:j(t==null?void 0:t.totalVillage)}),e.jsx("div",{className:l.countLabel,children:"Total Villages"})]}),e.jsxs("div",{className:u(l.countCard),style:{borderLeftColor:"#587EDF",color:"#587EDF"},children:[e.jsx("div",{className:l.count,children:j(t==null?void 0:t.ckCoveredVillage)}),e.jsx("div",{className:l.countLabel,children:"CK covered Villages"})]}),e.jsxs("div",{className:u(l.countCard),style:{borderLeftColor:"#CC9487",color:"#CC9487"},children:[e.jsx("div",{className:l.count,children:j(t==null?void 0:t.ckUncoveredVillage)}),e.jsx("div",{className:l.countLabel,children:"CK Uncovered Villages"})]}),e.jsxs("div",{className:u(l.countCard),style:{borderLeftColor:"#478399",color:"#478399"},children:[e.jsx("div",{className:l.count,children:j(t==null?void 0:t.villageCoverage)}),e.jsx("div",{className:l.countLabel,children:"Village Coverage %"})]}),e.jsxs("div",{className:u(l.countCard),style:{borderLeftColor:"#587EDF",color:"#587EDF"},children:[e.jsx("div",{className:l.count,children:j(t==null?void 0:t.ckCountOfCity)}),e.jsx("div",{className:l.countLabel,children:"CK Count of City"})]}),e.jsxs("div",{className:u(l.countCard),style:{borderLeftColor:"#CC9487",color:"#CC9487"},children:[e.jsx("div",{className:l.count,children:j(t==null?void 0:t.totalOutletInCk)}),e.jsx("div",{className:l.countLabel,children:"Total Outlets in CK"})]})]}),e.jsx("div",{children:e.jsxs("div",{className:l.cardsContainer,children:[e.jsxs("div",{className:l.cardBody,children:[e.jsx("div",{className:l.header,children:"SSFA"}),e.jsxs("div",{className:l.countListSection,children:[e.jsxs("div",{className:l.counterCard,children:[e.jsx("div",{className:l.count,children:j(r.cityCount)}),e.jsx("div",{className:l.countLabel,children:"City Count"})]}),e.jsxs("div",{className:l.counterCard,children:[e.jsx("div",{className:l.count,children:j(r.coveredVillage)}),e.jsx("div",{className:l.countLabel,children:"Covered Villages"})]}),e.jsxs("div",{className:l.counterCard,children:[e.jsx("div",{className:l.count,children:j(r.outletCount)}),e.jsx("div",{className:l.countLabel,children:"Outlet Count"})]}),e.jsxs("div",{className:l.counterCard,children:[e.jsxs("div",{className:l.count,children:[j(r.billing)," %"]}),e.jsx("div",{className:l.countLabel,children:"SSFA Billing %"})]})]})]}),e.jsxs("div",{className:l.cardBody,children:[e.jsx("div",{className:l.header,children:"RSC"}),e.jsxs("div",{className:l.countListSection,children:[e.jsxs("div",{className:l.counterCard,children:[e.jsx("div",{className:l.count,children:j(o.cityCount)}),e.jsx("div",{className:l.countLabel,children:"City Count"})]}),e.jsxs("div",{className:l.counterCard,children:[e.jsx("div",{className:l.count,children:j(o.coveredVillage)}),e.jsx("div",{className:l.countLabel,children:"Covered Villages"})]}),e.jsxs("div",{className:l.counterCard,children:[e.jsx("div",{className:l.count,children:j(o.outletCount)}),e.jsx("div",{className:l.countLabel,children:"Outlet Count"})]}),e.jsxs("div",{className:l.counterCard,children:[e.jsxs("div",{className:l.count,children:[j(o.billing)," %"]}),e.jsx("div",{className:l.countLabel,children:"RSC Billing %"})]})]})]})]})}),e.jsx(un,{}),e.jsxs("div",{className:u("pt-5 d-flex justify-content-between flex-wrap align-items-center"),children:[e.jsxs("div",{children:[e.jsxs("div",{className:l.billingCountDetails,children:[e.jsx("span",{className:l.orangeColor,children:"SSFA Billing % : "}),"SSFA count of Outlets / Total Outlets in CK"]}),e.jsxs("div",{className:l.billingCountDetails,children:[e.jsx("span",{className:l.orangeColor,children:"RSC Billing % : "}),"RSC count of Outlets / SSFA count of Outlets"]})]}),e.jsx("div",{})]})]})})}export{fn as default};
