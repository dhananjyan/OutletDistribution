import{r as o,j as c,c as R}from"./index-dff33365.js";import{R as I}from"./react-svg.esm-b1458550.js";const m="_selectBox_92m1f_1",B="_dropdownArrow_92m1f_15",F="_isOpen_92m1f_18",V="_popup_92m1f_21",A="_searchInputContainer_92m1f_49",T="_multiSelectField_92m1f_64",y="_checkbox_92m1f_69",D="_radioButton_92m1f_76",M="_active_92m1f_82",r={selectBox:m,dropdownArrow:B,isOpen:F,popup:V,searchInputContainer:A,multiSelectField:T,checkbox:y,radioButton:D,active:M},P=(p,t=500)=>{const[s,h]=o.useState(p),u=o.useRef(null);return[s,i=>{clearTimeout(u.current),u.current=setTimeout(()=>{h(i)},t)}]},$="/assets/downArrow-858f5328.svg",z="/assets/search-2cef15ce.svg";function q(p){const{options:t=[],value:s=[],onOpen:h,onChange:u,name:C,isMultiSelect:i=!1,onClose:x,zIndex:O="10001"}=p,l=o.useRef(),_=o.useRef(),[f,v]=o.useState(t),[w,S]=o.useState(!1),[d,g]=P(null,300);o.useState(!1);function E(e){l.current&&l.current.contains(e.target)||S(n=>(n?(x(),g(null)):setTimeout(()=>{h()},100),!n))}o.useEffect(()=>{v(t)},[JSON.stringify(t)]),o.useEffect(()=>{var e;d&&((e=String(d))!=null&&e.trim())?v(t==null?void 0:t.filter(n=>{var a,k,b;return(b=(a=String(n.label))==null?void 0:a.toLowerCase())==null?void 0:b.includes((k=String(d))==null?void 0:k.toLowerCase())})):v(t)},[d]);function N(e){g(e.target.value)}const j=e=>{let n=[...s];i?s!=null&&s.includes(e==null?void 0:e.value)?n=n.filter(a=>a!=(e==null?void 0:e.value)):n.push(e==null?void 0:e.value):n=[e==null?void 0:e.value],u({field:C,value:n,item:e}),i||S(!1)};return o.useEffect(()=>{const e=n=>{l.current&&!l.current.contains(n.target)&&(!_.current||!_.current.contains(n.target))&&(S(!1),typeof x=="function"&&(x(),g(null)))};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[]),c.jsxs("div",{className:R(r.selectBox,{[r.isOpen]:w}),tabIndex:"0",ref:_,onClick:E,children:[s!=null&&s.length?c.jsx("div",{className:r.placeholder,children:s==null?void 0:s.map((e,n)=>n==0?e:`, ${e}`)}):c.jsx("div",{children:"Please Select..."}),c.jsx(I,{className:r.dropdownArrow,src:$}),w?c.jsxs("div",{className:r.popup,style:{zIndex:O},ref:l,children:[c.jsxs("div",{className:r.searchInputContainer,children:[c.jsx(I,{src:z}),c.jsx("input",{placeholder:"Search",onChange:N})]}),f!=null&&f.length?f.map((e,n)=>c.jsxs("div",{className:r.multiSelectField,children:[c.jsx("input",{type:"checkbox",onChange:a=>j(e),checked:s==null?void 0:s.includes(e==null?void 0:e.value),className:r.checkbox}),c.jsx("div",{onClick:()=>j(e),children:e.label})]},`FILTERED_OPTION_ITEM_${n}`)):c.jsx("div",{children:"No match"})]}):""]})}export{q as S};
